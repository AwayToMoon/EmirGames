<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <title>HigherCellF Games</title>
    <link rel="icon" type="image/png" id="favicon" href="#">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Animated Background Particles -->
    <div class="particles-container">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <div class="content-container">
        <!-- Header Section -->
        <header class="header">
                <div class="logo-title-container">
                <img id="header-logo" src="#" alt="HigherCellF Games Logo" class="header-logo">
                    <h1 class="site-title">HigherCellF Games</h1>
                </div>
                
            <nav class="social-media">
                <a href="https://streamelements.com/away2moon/tip" class="kofi-btn" target="_blank" rel="noopener">
                        <i class="fas fa-mug-hot"></i>
                    <span>Support Mich Gern :D</span>
                    </a>
                    <div class="social-buttons">
                    <a href="#" class="social-btn" id="tiktok-btn" title="TikTok" target="_blank" rel="noopener">
                            <i class="fab fa-tiktok"></i>
                        </a>
                    <a href="#" class="social-btn" id="discord-btn" title="Discord" target="_blank" rel="noopener">
                            <i class="fab fa-discord"></i>
                        </a>
                    <a href="#" class="social-btn" id="instagram-btn" title="Instagram" target="_blank" rel="noopener">
                            <i class="fab fa-instagram"></i>
                        </a>
                    <a href="#" class="social-btn" id="kick-btn" title="Kick" target="_blank" rel="noopener">
                            <i class="fas fa-k"></i>
                        </a>
                </div>
            </nav>

                <div class="admin-section">
                    <img id="admin-logo" src="#" alt="Admin Logo" class="admin-logo">
                <button id="admin-login-btn" class="admin-login-btn">
                    <i class="fas fa-user-shield"></i>
                    Login Away‰∫ó
                </button>
            </div>
        </header>
            
            <div class="header-divider"></div>

        <!-- Admin Panel -->
        <section id="admin-panel" class="admin-panel hidden">
            <button id="add-game-btn" class="admin-btn">
                <i class="fas fa-plus"></i>
                Spiel hinzuf√ºgen
            </button>
            <button id="edit-games-btn" class="admin-btn">
                <i class="fas fa-edit"></i>
                Spiele bearbeiten
            </button>
            <button id="edit-social-btn" class="admin-btn">
                <i class="fas fa-share-alt"></i>
                Social Media Links bearbeiten
            </button>
            <button id="view-suggestions-btn" class="admin-btn">
                <i class="fas fa-lightbulb"></i>
                Vorschl√§ge ansehen 
                <span id="suggestion-count" class="suggestion-badge hidden">0</span>
            </button>
            <button id="update-genres-btn" class="admin-btn" title="Genres aller Spiele aus Steam aktualisieren">
                <i class="fas fa-sync"></i>
                Genres aktualisieren
            </button>
        </section>

        <!-- Action Buttons -->
        <section class="action-buttons">
            <button id="game-randomizer" class="randomizer-btn">
                <i class="fas fa-dice"></i>
                Zuf√§lliges Spiel
            </button>
            <button id="suggest-game-btn" class="suggest-button">
                <i class="fas fa-plus-circle"></i>
                Spiel vorschlagen
            </button>
        </section>
            
        <!-- Main Content -->
        <main class="main-content-flex">
            <!-- Genre Filter Sidebar -->
            <aside class="genre-filter-container">
                    <h3>Filter by Genre</h3>
                    <div class="genre-filter-buttons">
                    <button class="genre-filter-btn active" data-genre="all">
                        <i class="fas fa-th-large"></i>
                        All
                    </button>
                    <button class="genre-filter-btn" data-genre="Action">
                        <i class="fas fa-fire"></i>
                        Action
                    </button>
                    <button class="genre-filter-btn" data-genre="Adventure">
                        <i class="fas fa-compass"></i>
                        Adventure
                    </button>
                    <button class="genre-filter-btn" data-genre="Soulslike">
                        <i class="fas fa-skull"></i>
                        Soulslike
                    </button>
                    <button class="genre-filter-btn" data-genre="Shooter">
                        <i class="fas fa-crosshairs"></i>
                        Shooter
                    </button>
                    <button class="genre-filter-btn" data-genre="Sports">
                        <i class="fas fa-futbol"></i>
                        Sports
                    </button>
                    <button class="genre-filter-btn" data-genre="Strategy">
                        <i class="fas fa-chess"></i>
                        Strategy
                    </button>
                    <button class="genre-filter-btn" data-genre="Puzzle">
                        <i class="fas fa-puzzle-piece"></i>
                        Puzzle
                    </button>
                    <button class="genre-filter-btn" data-genre="Roblox">
                        <i class="fas fa-cube"></i>
                        Roblox
                    </button>
                    <button class="genre-filter-btn" data-genre="Horror">
                        <i class="fas fa-ghost"></i>
                        Horror
                    </button>
                    <button class="genre-filter-btn" data-genre="Story">
                        <i class="fas fa-book-open"></i>
                        Story
                    </button>
                </div>
            </aside>

            <!-- Games Content -->
            <div class="games-content">
                <nav class="game-tabs-container">
                    <button id="tab-all-games" class="game-tab-btn active">
                        <i class="fas fa-th-large"></i>
                        Alle Spiele
                    </button>
                    <button id="tab-unreleased-games" class="game-tab-btn">
                        <i class="fas fa-clock"></i>
                        Unreleased Spiele
                    </button>
                    <button id="tab-played-games" class="game-tab-btn">
                        <i class="fas fa-check-circle"></i>
                        Played Games
                    </button>
                </nav>
                
                <div id="game-list" class="game-list"></div>
            </div>
        </main>

        <!-- Modals -->
        <!-- Game Form Modal -->
            <div id="game-form" class="modal hidden">
                <div class="modal-content">
                    <span class="close-modal">&times;</span>
                <h2><i class="fas fa-plus-circle"></i> Spiel hinzuf√ºgen</h2>
                <div class="form-group">
                    <label for="steam-link">Steam-Link</label>
                    <input type="text" id="steam-link" placeholder="Steam-Link einf√ºgen">
                </div>
                <div id="steam-fetch-status" class="fetch-status hidden"></div>
                <div id="steam-preview" class="steam-preview hidden">
                    <img id="steam-image" src="" alt="Steam Bild">
                    <div class="preview-info">
                        <h3 id="steam-name"></h3>
                        <p id="steam-genres"></p>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3><i class="fas fa-edit"></i> Manuelle Bearbeitung</h3>
                    <div class="form-group">
                        <label for="game-name">Spielname</label>
                        <input type="text" id="game-name" placeholder="Spielname (wird automatisch von Steam geladen)">
                    </div>
                    <div class="form-group">
                        <label for="game-description">Beschreibung</label>
                        <textarea id="game-description" rows="4" placeholder="Spielbeschreibung (wird automatisch von Steam geladen)"></textarea>
                    </div>
                </div>
                <button id="save-game" class="save-btn">
                    <i class="fas fa-save"></i>
                    Speichern
                </button>
                </div>
            </div>

        <!-- Social Media Form Modal -->
            <div id="social-form" class="modal hidden">
                <div class="modal-content">
                    <span class="close-modal">&times;</span>
                <h2><i class="fas fa-share-alt"></i> Social Media Links bearbeiten</h2>
                
                <div class="form-section">
                    <h3>Header Social Media</h3>
                    <div class="form-group">
                        <label for="tiktok-link">TikTok URL</label>
                    <input type="text" id="tiktok-link" placeholder="TikTok URL">
                    </div>
                    <div class="form-group">
                        <label for="discord-link">Discord URL</label>
                    <input type="text" id="discord-link" placeholder="Discord URL">
                    </div>
                    <div class="form-group">
                        <label for="instagram-link">Instagram URL</label>
                    <input type="text" id="instagram-link" placeholder="Instagram URL">
                    </div>
                    <div class="form-group">
                        <label for="kick-link">Kick URL</label>
                    <input type="text" id="kick-link" placeholder="Kick URL">
                    </div>
                </div>

                <div class="form-section">
                    <h3>Footer Social Media</h3>
                    <div class="form-group">
                        <label for="footer-instagram-link">Footer Instagram URL</label>
                    <input type="text" id="footer-instagram-link" placeholder="Footer Instagram URL">
                    </div>
                    <div class="form-group">
                        <label for="footer-tiktok-link">Footer TikTok URL</label>
                    <input type="text" id="footer-tiktok-link" placeholder="Footer TikTok URL">
                    </div>
                    <div class="form-group">
                        <label for="footer-twitter-link">Footer Twitter URL</label>
                    <input type="text" id="footer-twitter-link" placeholder="Footer Twitter URL">
                    </div>
                </div>

                <div class="form-section">
                    <h3>Logo URLs</h3>
                    <div class="form-group">
                        <label for="header-logo-link">Header Logo URL</label>
                    <input type="text" id="header-logo-link" placeholder="Header Logo URL (empfohlen: 40x40px)">
                    </div>
                    <div class="form-group">
                        <label for="logo-link">Tab Icon URL</label>
                    <input type="text" id="logo-link" placeholder="Tab Icon URL (32x32px empfohlen)">
                    </div>
                    <div class="form-group">
                        <label for="admin-logo-link">Admin Logo URL</label>
                    <input type="text" id="admin-logo-link" placeholder="Admin Logo URL (empfohlen: 40x40px)">
                    </div>
                </div>

                <button id="save-social" class="save-btn">
                    <i class="fas fa-save"></i>
                    Speichern
                </button>
                </div>
            </div>

        <!-- Login Modal -->
            <div id="login-modal" class="modal hidden">
                <div class="modal-content login-content">
                <h2><i class="fas fa-user-shield"></i> Admin Login</h2>
                    <div class="login-form">
                    <div class="form-group">
                        <label for="admin-password">Passwort</label>
                        <input type="password" id="admin-password" placeholder="Passwort eingeben">
                    </div>
                        <div class="login-buttons">
                        <button id="login-submit" class="login-btn">
                            <i class="fas fa-sign-in-alt"></i>
                            Login
                        </button>
                        <button id="login-cancel" class="cancel-btn">
                            <i class="fas fa-times"></i>
                            Abbrechen
                        </button>
                        </div>
                    </div>
                </div>
            </div>

        <!-- Suggest Form Modal -->
            <div id="suggest-form" class="modal hidden">
                <div class="modal-content suggest-content">
                    <span class="close-modal">&times;</span>
                <h2><i class="fas fa-lightbulb"></i> Spiel vorschlagen</h2>
                <div class="form-group">
                    <label for="suggest-steam-link">Steam-Link</label>
                    <input type="text" id="suggest-steam-link" placeholder="Steam-Link einf√ºgen">
                </div>
                <div id="suggest-steam-fetch-status" class="fetch-status hidden"></div>
                <div id="suggest-steam-preview" class="steam-preview hidden">
                    <img id="suggest-steam-image" src="" alt="Steam Bild">
                    <div class="preview-info">
                        <h3 id="suggest-steam-name"></h3>
                        <p id="suggest-steam-genres"></p>
                    </div>
                </div>
                <button id="submit-suggestion" class="save-btn">
                    <i class="fas fa-paper-plane"></i>
                    Vorschlag einreichen
                </button>
                </div>
            </div>

        <!-- Footer -->
        <footer class="footer-container">
                <div class="made-by-container">
                    <div class="made-by">
                        Made With <span class="heart">‚ù§</span> from Away
                    </div>
                    <div class="footer-social">
                    <a href="#" class="footer-social-btn" id="footer-instagram" title="Instagram" target="_blank" rel="noopener">
                            <i class="fab fa-instagram"></i>
                        </a>
                    <a href="#" class="footer-social-btn" id="footer-tiktok" title="TikTok" target="_blank" rel="noopener">
                            <i class="fab fa-tiktok"></i>
                        </a>
                    <a href="#" class="footer-social-btn" id="footer-twitter" title="X (Twitter)" target="_blank" rel="noopener">
                            <i class="fa-solid fa-x"></i>
                        </a>
                    </div>

            </div>
            <div class="copyright">
                Copyright ¬© 2025 Marvin Weiss. Alle Rechte vorbehalten. |
                <a href="#" id="impressum-link" class="impressum-link">Impressum</a>
            </div>
        </footer>
    </div>
    
    <!-- Corner Image - Outside Footer -->
                    <div class="corner-image">
                        <img src="https://i.imgur.com/PQrHi8j.png" alt="Corner Image">
                    </div>
    
    <!-- Randomizer Modal -->
    <div id="randomizer-modal" class="modal hidden">
        <div class="modal-content randomizer-content">
            <h2><i class="fas fa-dice"></i> Dein zuf√§lliges Spiel ist...</h2>
            <div class="game-showcase">
                <div class="preview-container">
                    <!-- Wird dynamisch mit JavaScript gef√ºllt -->
                </div>
                <div class="game-card">
                    <img src="" alt="">
                    <h3></h3>
                </div>
            </div>
            <div class="button-container">
                <button class="play-button" id="play-random-game">
                    <i class="fas fa-play"></i>
                    Spielen
                </button>
                <button class="close-button" id="close-random-game">
                    <i class="fas fa-times"></i>
                    Schlie√üen
                </button>
            </div>
        </div>
    </div>
    
    <!-- Loading Indicator -->
    <div id="loading-indicator" class="loading-indicator hidden">
        <div class="loading-spinner"></div>
        <p>Lade Spiele...</p>
    </div>

    <!-- Notification System -->
    <div id="notification-container" class="notification-container"></div>
    
    <!-- Willkommens-Modal -->
    <div id="welcome-modal" class="modal">
        <div class="modal-content welcome-content">
            <h2>Willkommen bei HigherCellF Games!</h2>
            <p>
                Hier findest du eine kuratierte Sammlung von Spielen, die du nach Genre filtern, als gespielt markieren oder Vorschl√§ge einreichen kannst.<br><br>
                <b>So funktioniert's:</b><br>
                <ul style="text-align:left; margin: 1em 0 1em 1.5em;">
                    <li>Nutze die <b>Genre-Filter</b> links, um Spiele nach deinem Geschmack zu finden.</li>
                    <li>Mit den <b>Tabs</b> oben kannst du zwischen allen, unreleased und gespielten Spielen wechseln.</li>
                    <li>√úber <b>Zuf√§lliges Spiel</b> bekommst du einen Spieletipp.</li>
                    <li>Du kannst <b>eigene Vorschl√§ge</b> einreichen ‚Äì einfach auf "Spiel vorschlagen" klicken!</li>
                </ul>
                Viel Spa√ü beim St√∂bern und Entdecken! üéÆ
            </p>
            <button id="welcome-ok-btn" class="save-btn" style="margin-top: 1.5em; min-width: 180px;">Okay, Verstanden</button>
            <div style="margin-top: 1.2em; text-align:center;">
                <label style="cursor:pointer; font-size:1em;">
                    <input type="checkbox" id="welcome-hide-today" style="margin-right:8px; vertical-align:middle;">Heute nicht mehr anzeigen
                </label>
            </div>
        </div>
    </div>

    <!-- Impressum Modal -->
    <div id="imprint-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2><i class="fas fa-scale-balanced"></i> Impressum</h2>
            <p><b>Betreiber dieser Website</b>: Marvin Weiss</p>
            <p><b>Kontakt</b>: E-Mail: <a href="mailto:marvinweiss28@gmail.com">marvinweiss28@gmail.com</a></p>
            <p><b>Inhaltlich Verantwortlicher</b> gem√§√ü ¬ß 55 Abs. 2 RStV: Marvin Weiss</p>
            <p style="margin-top:12px; opacity:0.85;">
                Alle Inhalte wurden mit gr√∂√üter Sorgfalt erstellt. F√ºr die Richtigkeit, Vollst√§ndigkeit und
                Aktualit√§t der Inhalte wird jedoch keine Gew√§hr √ºbernommen. Externe Links wurden zum Zeitpunkt
                der Verlinkung gepr√ºft; f√ºr deren Inhalte sind ausschlie√ülich deren Betreiber verantwortlich.
            </p>
        </div>
    </div>

<script>
        // Firebase Configuration
    const encryptedConfig = "U2FsdGVkX1/2h2jz/okQRoolhPVQPafedlkbIfYoDr/bEIj6Qe4Gz4D+GJsaaQ5i7XVMwWJ+cqe94PGWRSvfQKwZHwpHdIr9YhzTEVGwzq0yCkU/7ZsA1fNW0THeJjRP5W+tborqv2W5F8pHhVoVtYy104eDojx6YeaaKd4zyAr36a1eAY82nlgIUMhzbl8s7LEWqoqk/w+4brkq8Gt7zZ2zkCij2mwXb8LEyZJBFSa0j62QdI8cKkSwBRw3MxO56KTu4tLFcbv7hhehDtKwM0PNJMkuDp+xldtmmvIOS56fR64kvsLXlkN/DSV+3MHLWFCHv/ry06NtgMy6aEz3mfFQUqP0uaTR+ohi3niWSNYJ+wMNgQsV6xiXj+VmKleN";
    
    function initFirebase() {
        const secretKey = "HigherCellF-Games-2024";
        const decrypted = CryptoJS.AES.decrypt(encryptedConfig, secretKey).toString(CryptoJS.enc.Utf8);
        const firebaseConfig = JSON.parse(decrypted);
        
        firebase.initializeApp(firebaseConfig);
        window.db = firebase.firestore();
    }

    initFirebase();

        // Notification System
        function showNotification(message, type = 'info') {
            const container = document.getElementById('notification-container');
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                <span>${message}</span>
                <button class="notification-close">&times;</button>
            `;
            
            container.appendChild(notification);
                
            // Auto remove after 5 seconds
            setTimeout(() => {
                notification.classList.add('fade-out');
                setTimeout(() => notification.remove(), 300);
            }, 5000);
            
            // Manual close
            notification.querySelector('.notification-close').onclick = () => {
                notification.classList.add('fade-out');
                setTimeout(() => notification.remove(), 300);
            };
        }

        // Loading Indicator
        function showLoading() {
            document.getElementById('loading-indicator').classList.remove('hidden');
        }

        function hideLoading() {
            document.getElementById('loading-indicator').classList.add('hidden');
        }

        // Enhanced Modal Management
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('hidden');
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';

            // Focus first input if exists
            const firstInput = modal.querySelector('input');
            if (firstInput) firstInput.focus();
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('hidden');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Close modals when clicking outside
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal')) {
                e.target.classList.add('hidden');
                e.target.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });

        // Close modals with escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                const openModals = document.querySelectorAll('.modal:not(.hidden)');
                openModals.forEach(modal => {
                    modal.classList.add('hidden');
                    modal.style.display = 'none';
                });
                document.body.style.overflow = 'auto';
        }
    });

        // Initialize tooltips
        function initTooltips() {
            const elements = document.querySelectorAll('[title]');
            elements.forEach(element => {
                element.addEventListener('mouseenter', (e) => {
                    const tooltip = document.createElement('div');
                    tooltip.className = 'tooltip';
                    tooltip.textContent = e.target.title;
                    document.body.appendChild(tooltip);
                    
                    const rect = e.target.getBoundingClientRect();
                    tooltip.style.left = rect.left + (rect.width / 2) - (tooltip.offsetWidth / 2) + 'px';
                    tooltip.style.top = rect.top - tooltip.offsetHeight - 10 + 'px';
                });
                
                element.addEventListener('mouseleave', () => {
                    const tooltip = document.querySelector('.tooltip');
                    if (tooltip) tooltip.remove();
                });
            });
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            initTooltips();
            showNotification('Willkommen bei HigherCellF Games! üéÆ', 'success');
        });
</script>
    
<script src="script.js"></script>
</body>
</html>
